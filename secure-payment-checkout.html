<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Checkout — Salt of the Earth</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Site Header -->
    <header class="site-header">
      <div class="container nav-wrap">
        <a href="index.html" class="brand"><span class="logo"></span> Salt of the Earth</a>
        <nav class="main-nav">
          <a href="index.html">Home</a>
          <a href="products.html">Products</a>
          <a href="faq.html">FAQ</a>
          <a href="contact-us.html">Contact</a>
          <a href="order-history.html">Orders</a>
          <a href="profile-management.html">Account</a>
          <a href="register.html">Register</a>
          <a href="secure-payment-checkout.html" class="active">Cart</a>
        </nav>
      </div>
    </header>

    <main class="container" style="padding: 2rem 0;">
      <h1>Checkout</h1>
      <!-- Step indicator -->
      <div class="stepper">
        <div class="step current"><div class="circle">1</div>Contact</div>
        <div class="step"><div class="circle">2</div>Delivery</div>
        <div class="step"><div class="circle">3</div>Payment</div>
      </div>
      <div class="checkout-grid">
        <div>
          <form id="checkoutForm">
            <!-- Step 1: Contact -->
            <section class="checkout-step" data-step="0">
              <h2>Contact Information</h2>
              <div class="form-grid">
                <label>Email Address
                  <input type="email" name="checkout-email" required placeholder="you@example.com" />
                </label>
                <label>Phone Number
                  <input type="tel" name="checkout-phone" required placeholder="+44 7000 000000" />
                </label>
              </div>
              <div class="spacer"></div>
              <button type="button" class="btn btn-primary" onclick="nextStep()">Next</button>
            </section>
            <!-- Step 2: Delivery -->
            <section class="checkout-step" data-step="1" style="display: none;">
              <h2>Delivery Address</h2>
              <div class="form-grid two">
                <label>First Name
                  <input type="text" name="shipping-first" required />
                </label>
                <label>Last Name
                  <input type="text" name="shipping-last" required />
                </label>
                <label class="span-2">Address
                  <input type="text" name="shipping-address" required placeholder="Street address" />
                </label>
                <label>City
                  <input type="text" name="shipping-city" required />
                </label>
                <label>Postcode
                  <input type="text" name="shipping-postcode" required />
                </label>
                <label>Country
                  <select name="shipping-country" required>
                    <option value="">Select Country</option>
                    <option value="UK">United Kingdom</option>
                    <option value="US">United States</option>
                    <option value="FR">France</option>
                    <option value="DE">Germany</option>
                  </select>
                </label>
              </div>
              <h3 style="margin-top: 1.5rem;">Shipping Method</h3>
              <div class="option-group">
                <label class="option-card">
                  <input type="radio" name="shipping" value="standard" checked />
                  <div>
                    <strong>Standard</strong> <span class="muted" style="display:block;font-weight:400;">3–5 business days</span>
                  </div>
                  <span class="price">Free</span>
                </label>
                <label class="option-card">
                  <input type="radio" name="shipping" value="express" />
                  <div>
                    <strong>Express</strong> <span class="muted" style="display:block;font-weight:400;">1–2 business days</span>
                  </div>
                    <span class="price">£4.99</span>
                </label>
              </div>
              <div class="row gap" style="margin-top: 1.5rem;">
                <button type="button" class="btn btn-outline" onclick="prevStep()">Back</button>
                <button type="button" class="btn btn-primary" onclick="nextStep()">Next</button>
              </div>
            </section>
            <!-- Step 3: Payment -->
            <section class="checkout-step" data-step="2" style="display: none;">
              <h2>Payment Details</h2>
              <div class="form-grid two">
                <label>Name on Card
                  <input type="text" name="card-name" required />
                </label>
                <label>Card Number
                  <input type="text" name="card-number" required placeholder="4242 4242 4242 4242" maxlength="19" />
                </label>
                <label>Expiry Month
                  <input type="text" name="card-exp-month" required placeholder="MM" />
                </label>
                <label>Expiry Year
                  <input type="text" name="card-exp-year" required placeholder="YY" />
                </label>
                <label class="span-2">CVC
                  <input type="text" name="card-cvc" required placeholder="123" />
                </label>
              </div>
              <h3 style="margin-top: 1.5rem;">Payment Method</h3>
              <div class="option-group">
                <label class="payment-card selected">
                  <div class="row gap">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/0/04/Mastercard-logo.png" alt="MasterCard" />
                    <span>Credit / Debit Card</span>
                  </div>
                </label>
                <label class="payment-card">
                  <div class="row gap">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/3/30/PayPal_Logo.png" alt="PayPal" />
                    <span>PayPal</span>
                  </div>
                </label>
              </div>
              <div class="row gap" style="margin-top: 1.5rem;">
                <button type="button" class="btn btn-outline" onclick="prevStep()">Back</button>
                <button type="submit" class="btn btn-primary">Place Order</button>
              </div>
            </section>
          </form>
        </div>
        <aside class="order-summary">
          <h3>Order Summary</h3>
          <div class="summary-items">
            <div class="item">
              <span class="name">Fine Himalayan Salt 500g</span>
              <span class="qty">×1</span>
              <span class="price">£8.99</span>
            </div>
            <div class="item">
              <span class="name">Coarse Himalayan Salt 1kg</span>
              <span class="qty">×1</span>
              <span class="price">£14.99</span>
            </div>
          </div>
          <div class="summary-totals">
            <div><span>Subtotal</span><span id="subtotalAmount">£23.98</span></div>
            <div><span>Shipping</span><span id="shippingCost">Free</span></div>
            <div><strong>Total</strong><strong id="totalAmount">£23.98</strong></div>
          </div>
        </aside>
      </div>
    </main>

    <footer class="site-footer">
      <div class="container text-center">
        <p>© 2025 Salt of the Earth. All rights reserved.</p>
        <div class="social">
          <a href="#">Facebook</a>
          <a href="#">Instagram</a>
          <a href="#">Twitter</a>
        </div>
      </div>
    </footer>

    <script>
      const stepsEls = Array.from(document.querySelectorAll('.stepper .step'));
      const stepSections = Array.from(document.querySelectorAll('.checkout-step'));
      let current = 0;
      function updateUI() {
        stepsEls.forEach((el, idx) => {
          el.classList.remove('current', 'completed');
          if (idx < current) el.classList.add('completed');
          if (idx === current) el.classList.add('current');
        });
        stepSections.forEach((sec, idx) => {
          sec.style.display = idx === current ? '' : 'none';
        });
        // update shipping cost in summary based on selection
        const shipping = document.querySelector('input[name="shipping"]:checked');
        const shippingLabel = document.getElementById('shippingCost');
        const totalLabel = document.getElementById('totalAmount');
        let subtotal = 23.98;
        let shippingCost = 0;
        if (shipping && shipping.value === 'express') shippingCost = 4.99;
        shippingLabel.textContent = shippingCost === 0 ? 'Free' : `£${shippingCost.toFixed(2)}`;
        const total = subtotal + shippingCost;
        totalLabel.textContent = `£${total.toFixed(2)}`;
      }
      function nextStep() {
        if (current < stepSections.length - 1) {
          current++;
          updateUI();
        }
      }
      function prevStep() {
        if (current > 0) {
          current--;
          updateUI();
        }
      }
      document.getElementById('checkoutForm').addEventListener('change', (e) => {
        if (e.target.name === 'shipping') {
          updateUI();
        }
      });
      document.getElementById('checkoutForm').addEventListener('submit', function (e) {
        e.preventDefault();
        alert('Your order has been placed successfully!');
        window.location.href = 'order-confirmation.html';
      });
      // initialise UI on load
      updateUI();
    </script>
  </body>
</html>